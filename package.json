{
	"name": "e2e-tests",
	"version": "1.0.0",
	"description": "E2E tests automation for oasis-borrow",
	"main": "index.js",
	"type": "module",
	"author": "juan-langa <juan@oazoapps.com>",
	"license": "Apache-2.0",
	"devDependencies": {
		"@ethersproject/providers": "^5.7.2",
		"@inquirer/prompts": "^3.3.0",
		"@playwright/test": "^1.48.1",
		"@synthetixio/synpress": "^4.0.3",
		"@types/node": "^22.8.0",
		"axios": "^1.6.0",
		"dotenv": "^16.4.5",
		"ethers": "^6.7.1",
		"tsx": "^4.19.2",
		"typescript": "^5.6.3"
	},
	"scripts": {
		"synpress-build-cache:real-wallet": "yarn synpress ./utils/synpress/real-wallet-setup",
		"synpress-build-cache:test-wallet": "yarn synpress ./utils/synpress/test-wallet-setup",
		"synpress-v4": "REPORT_FOLDER=synpress-v4 npx playwright test --project=synpress-v4",
		"earn-protocol": "REPORT_FOLDER=earn-protocol npx playwright test --project=earn-protocol",
		"earn-protocol:no-wallet": "REPORT_FOLDER=earn-protocol-no-wallet npx playwright test --project=earn-protocol-no-wallet",
		"earn-protocol:with-real-wallet": "REPORT_FOLDER=earn-protocol-with-real-wallet npx playwright test --project=earn-protocol-with-real-wallet",
		"earn-protocol:with-test-wallet": "REPORT_FOLDER=earn-protocol-with-test-wallet npx playwright test --project=earn-protocol-with-test-wallet",
		"earn-protocol:prod-release": "REPORT_FOLDER=earn-protocol-prod-release npx playwright test --project=earn-protocol-prod-release",
		"api-tests": "REPORT_FOLDER=api-tests npx playwright test --project=api-tests",
		"verify-staging": "REPORT_FOLDER=verify-staging npx playwright test --project=verify-staging",
		"no-wallet": "REPORT_FOLDER=no-wallet npx playwright test --project=no-wallet",
		"no-wallet:portfolio": "REPORT_FOLDER=no-wallet-portfolio npx playwright test --project=no-wallet-portfolio",
		"with-real-wallet": "REPORT_FOLDER=with-real-wallet npx playwright test --project=with-real-wallet",
		"with-wallet:rays": "REPORT_FOLDER=with-wallet-rays npx playwright test --project=with-wallet-rays",
		"with-wallet:token-swap-rate": "REPORT_FOLDER=with-wallet-token-swap-rate npx playwright test --project=with-wallet-token-swap-rate",
		"with-wallet:rays-and-token-swap-rate": "REPORT_FOLDER=with-wallet-rays-and-token-swap-rate npx playwright test --project=with-wallet-rays-and-token-swap-rate",
		"with-wallet:aave:ethereum": "REPORT_FOLDER=with-wallet-aave-ethereum npx playwright test --project=with-wallet-aave-ethereum",
		"with-wallet:aave:other": "REPORT_FOLDER=with-wallet-aave-other npx playwright test --project=with-wallet-aave-other",
		"with-wallet:aave:arbitrum": "REPORT_FOLDER=with-wallet-aave-arbitrum npx playwright test --project=with-wallet-aave-arbitrum",
		"with-wallet:aave:base": "REPORT_FOLDER=with-wallet-aave-base npx playwright test --project=with-wallet-aave-base",
		"with-wallet:aave:optimism": "REPORT_FOLDER=with-wallet-aave-optimism npx playwright test --project=with-wallet-aave-optimism",
		"with-wallet:aave:arbitrum-and-optimism": "REPORT_FOLDER=with-wallet-aave-arbitrum-and-optimism npx playwright test --project=with-wallet-aave-arbitrum-and-optimism",
		"with-wallet:ajna-and-morphoblue": "REPORT_FOLDER=with-wallet-ajna-and-morphoblue npx playwright test --project=with-wallet-ajna-and-morphoblue",
		"with-wallet:ajna": "REPORT_FOLDER=with-wallet-ajna npx playwright test --project=with-wallet-ajna",
		"with-wallet:ajna:ethereum": "REPORT_FOLDER=with-wallet-ajna-ethereum npx playwright test --project=with-wallet-ajna-ethereum",
		"with-wallet:ajna:arbitrum": "REPORT_FOLDER=with-wallet-ajna-arbitrum npx playwright test --project=with-wallet-ajna-arbitrum",
		"with-wallet:ajna:base": "REPORT_FOLDER=with-wallet-ajna-base npx playwright test --project=with-wallet-ajna-base",
		"with-wallet:ajna:optimism": "REPORT_FOLDER=with-wallet-ajna-optimism npx playwright test --project=with-wallet-ajna-optimism",
		"with-wallet:morphoblue": "REPORT_FOLDER=with-wallet-morphoblue npx playwright test --project=with-wallet-morphoblue",
		"with-wallet:morphoblue:ethereum": "REPORT_FOLDER=with-wallet-morphoblue-ethereum npx playwright test --project=with-wallet-morphoblue-ethereum",
		"with-wallet:maker-and-spark": "REPORT_FOLDER=with-wallet-maker-and-spark npx playwright test --project=with-wallet-maker-and-spark",
		"with-wallet:spark:ethereum": "REPORT_FOLDER=with-wallet-spark-ethereum npx playwright test --project=with-wallet-spark-ethereum",
		"with-wallet:maker:ethereum": "REPORT_FOLDER=with-wallet-maker-ethereum npx playwright test --project=with-wallet-maker-ethereum",
		"with-wallet:open-positions": "REPORT_FOLDER=with-wallet-open-positions npx playwright test --project=with-wallet-open-positions",
		"with-wallet:open-positions:aave": "REPORT_FOLDER=with-wallet-open-positions-aave npx playwright test --project=with-wallet-open-positions-aave",
		"with-wallet:open-positions:aave:ethereum": "REPORT_FOLDER=with-wallet-open-positions-aave-ethereum npx playwright test --project=with-wallet-open-positions-aave-ethereum",
		"with-wallet:open-positions:aave:ethereum:earn-multiply": "REPORT_FOLDER=with-wallet-open-positions-aave-ethereum-earn-multiply npx playwright test --project=with-wallet-open-positions-aave-ethereum-earn-multiply",
		"with-wallet:open-positions:aave:ethereum:borrow": "REPORT_FOLDER=with-wallet-open-positions-aave-ethereum-borrow npx playwright test --project=with-wallet-open-positions-aave-ethereum-borrow",
		"with-wallet:open-positions:aave:l2s": "REPORT_FOLDER=with-wallet-open-positions-aave-l2s npx playwright test --project=with-wallet-open-positions-aave-l2s",
		"with-wallet:open-positions:other": "REPORT_FOLDER=with-wallet-open-positions-other npx playwright test --project=with-wallet-open-positions-other",
		"with-wallet:open-positions:aave:arbitrum": "REPORT_FOLDER=with-wallet-open-positions-aave-arbitrum npx playwright test --project=with-wallet-open-positions-aave-arbitrum",
		"with-wallet:open-positions:aave:base": "REPORT_FOLDER=with-wallet-open-positions-aave-base npx playwright test --project=with-wallet-open-positions-aave-base",
		"with-wallet:open-positions:aave:optimism": "REPORT_FOLDER=with-wallet-open-positions-aave-optimism npx playwright test --project=with-wallet-open-positions-aave-optimism",
		"with-wallet:all": "yarn with-wallet:aave:ethereum & yarn with-wallet:aave:other & yarn with-wallet:ajna-and-morphoblue & yarn with-wallet:maker-and-spark",
		"test:e2e": "yarn no-wallet & yarn with-wallet:all",
		"//-1a": "---------------------------------------------------------------",
		"//-1b": "---------------------- REGRESSION TESTS -----------------------",
		"//-1c": "---------------------------------------------------------------",
		"lazy:real-wallet:regression": "REPORT_FOLDER=lazy-real-wallet-regression npx playwright test --grep @regression --project=lazy-real-wallet",
		"api-tests:regression": "REPORT_FOLDER=api-tests npx playwright test --grep @regression --project=api-tests",
		"no-wallet:regression": "REPORT_FOLDER=no-wallet npx playwright test --grep @regression --project=no-wallet",
		"with-wallet:aave:ethereum:regression": "REPORT_FOLDER=with-wallet-aave-ethereum npx playwright test --grep @regression --project=with-wallet-aave-ethereum",
		"with-wallet:aave:other:regression": "REPORT_FOLDER=with-wallet-aave-other npx playwright test --grep @regression --project=with-wallet-aave-other",
		"with-wallet:aave:arbitrum:regression": "REPORT_FOLDER=with-wallet-aave-arbitrum npx playwright test --grep @regression --project=with-wallet-aave-arbitrum",
		"with-wallet:aave:base:regression": "REPORT_FOLDER=with-wallet-aave-base npx playwright test --grep @regression --project=with-wallet-aave-base",
		"with-wallet:aave:optimism:regression": "REPORT_FOLDER=with-wallet-aave-optimism npx playwright test --grep @regression --project=with-wallet-aave-optimism",
		"with-wallet:aave:arbitrum-and-optimism:regression": "REPORT_FOLDER=with-wallet-aave-arbitrum-and-optimism npx playwright test --grep @regression --project=with-wallet-aave-arbitrum-and-optimism",
		"with-wallet:ajna-and-morphoblue:regression": "REPORT_FOLDER=with-wallet-ajna-and-morphoblue npx playwright test --grep @regression --project=with-wallet-ajna-and-morphoblue",
		"with-wallet:ajna:regression": "REPORT_FOLDER=with-wallet-ajna npx playwright test --grep @regression --project=with-wallet-ajna",
		"with-wallet:ajna:ethereum:regression": "REPORT_FOLDER=with-wallet-ajna-ethereum npx playwright test --grep @regression --project=with-wallet-ajna-ethereum",
		"with-wallet:ajna:arbitrum:regression": "REPORT_FOLDER=with-wallet-ajna-arbitrum npx playwright test --grep @regression --project=with-wallet-ajna-arbitrum",
		"with-wallet:ajna:base:regression": "REPORT_FOLDER=with-wallet-ajna-base npx playwright test --grep @regression --project=with-wallet-ajna-base",
		"with-wallet:ajna:optimism:regression": "REPORT_FOLDER=with-wallet-ajna-optimism npx playwright test --grep @regression --project=with-wallet-ajna-optimism",
		"with-wallet:morphoblue:ethereum:regression": "REPORT_FOLDER=with-wallet-morphoblue-ethereum npx playwright test --grep @regression --project=with-wallet-morphoblue-ethereum --workers=2",
		"with-wallet:maker-and-spark:regression": "REPORT_FOLDER=with-wallet-maker-and-spark npx playwright test --grep @regression --project=with-wallet-maker-and-spark",
		"with-wallet:spark:ethereum:regression": "REPORT_FOLDER=with-wallet-spark-ethereum npx playwright test --grep @regression --project=with-wallet-spark-ethereum",
		"with-wallet:maker:ethereum:regression": "REPORT_FOLDER=with-wallet-maker-ethereum npx playwright test --grep @regression --project=with-wallet-maker-ethereum",
		"with-wallet:all:regression": "yarn with-wallet:aave:ethereum:regression & yarn with-wallet:aave:other:regression & yarn with-wallet:ajna-and-morphoblue:regression & yarn with-wallet:maker-and-spark:regression",
		"test:e2e:regression": "yarn no-wallet:regression & yarn with-wallet:all:regression",
		"//-2a": "---------------------------------------------------------------",
		"//-2b": "---------------------- CI REGRESSION TESTS -----------------------",
		"//-2c": "---------------------------------------------------------------",
		"ci:synpress-build-cache:real-wallet": "xvfb-run yarn synpress-build-cache:real-wallet",
		"ci:synpress-build-cache:test-wallet": "xvfb-run yarn synpress-build-cache:test-wallet",
		"ci:earn-no-wallet": "WORKERS='2' RETRIES='2' FULLY_PARALLEL='true' yarn earn-protocol:no-wallet",
		"ci:earn-with-real-wallet": "WORKERS='2' RETRIES='2' FULLY_PARALLEL='true' xvfb-run yarn earn-protocol:with-real-wallet",
		"ci:lazy-real-wallet-regression": "WORKERS='2' RETRIES='2' FULLY_PARALLEL='true' xvfb-run yarn lazy:real-wallet:regression",
		"ci:earn-prod-release": "WORKERS='2' RETRIES='2' FULLY_PARALLEL='true' xvfb-run yarn earn-protocol:prod-release",
		"ci:no-wallet:regression": "WORKERS='2' RETRIES='2' FULLY_PARALLEL='true' yarn no-wallet:regression",
		"ci:with-real-wallet": "WORKERS='2' RETRIES='2' xvfb-run yarn with-real-wallet",
		"ci:with-wallet:aave:ethereum:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:aave:ethereum:regression",
		"ci:with-wallet:aave:other:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:aave:other:regression",
		"ci:with-wallet:aave:arbitrum:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:aave:arbitrum:regression",
		"ci:with-wallet:aave:base:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:aave:base:regression",
		"ci:with-wallet:aave:optimism:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:aave:optimism:regression",
		"ci:with-wallet:aave:arbitrum-and-optimism:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:aave:arbitrum-and-optimism:regression",
		"ci:with-wallet:ajna-and-morphoblue:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:ajna-and-morphoblue:regression",
		"ci:with-wallet:ajna:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:ajna:regression",
		"ci:with-wallet:ajna:ethereum:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:ajna:ethereum:regression",
		"ci:with-wallet:ajna:arbitrum:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:ajna:arbitrum:regression",
		"ci:with-wallet:ajna:base:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:ajna:base:regression",
		"ci:with-wallet:ajna:optimism:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:ajna:optimism:regression",
		"ci:with-wallet:morphoblue:ethereum:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:morphoblue:ethereum:regression",
		"ci:with-wallet:maker-and-spark:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:maker-and-spark:regression",
		"ci:with-wallet:spark:ethereum:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:spark:ethereum:regression",
		"ci:with-wallet:maker:ethereum:regression": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:maker:ethereum:regression",
		"ci:with-wallet:open-positions:aave:arbitrum": "WORKERS='2' RETRIES='2' RETRIES='2' xvfb-run yarn with-wallet:open-positions:aave:arbitrum",
		"ci:with-wallet:open-positions:aave:base": "WORKERS='2' RETRIES='2' RETRIES='2' xvfb-run yarn with-wallet:open-positions:aave:base",
		"ci:with-wallet:open-positions:aave:optimism": "WORKERS='2' RETRIES='2' RETRIES='2' xvfb-run yarn with-wallet:open-positions:aave:optimism",
		"//-3a": "---------------------------------------------------------------",
		"//-3b": "---------------------- NIGHTLY TESTS -----------------------",
		"//-3c": "---------------------------------------------------------------",
		"nightly:no-wallet": "WORKERS='2' FULLY_PARALLEL='true' RETRIES='2' yarn no-wallet",
		"nightly:with-wallet:aave:ethereum": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:aave:ethereum",
		"nightly:with-wallet:aave:other": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:aave:other",
		"nightly:with-wallet:aave:arbitrum": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:aave:arbitrum",
		"nightly:with-wallet:aave:base": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:aave:base",
		"nightly:with-wallet:aave:optimism": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:aave:optimism",
		"nightly:with-wallet:ajna": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:ajna",
		"nightly:with-wallet:morphoblue": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:morphoblue",
		"nightly:with-wallet:maker-and-spark": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:maker-and-spark",
		"nightly:with-wallet:maker": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:maker:ethereum",
		"nightly:with-wallet:spark": "WORKERS='2' RETRIES='2' xvfb-run yarn with-wallet:spark:ethereum",
		"nightly:with-wallet:open-positions:aave": "WORKERS=2 RETRIES='2' xvfb-run yarn with-wallet:open-positions:aave",
		"nightly:with-wallet:open-positions:aave:ethereum:earn-multiply": "WORKERS=2 RETRIES='2' xvfb-run yarn with-wallet:open-positions:aave:ethereum:earn-multiply",
		"nightly:with-wallet:open-positions:aave:ethereum:borrow": "WORKERS=2 RETRIES='2' xvfb-run yarn with-wallet:open-positions:aave:ethereum:borrow",
		"nightly:with-wallet:open-positions:aave:l2s": "WORKERS=2 RETRIES='2' xvfb-run yarn with-wallet:open-positions:aave:l2s",
		"nightly:with-wallet:open-positions:other": "WORKERS=2 RETRIES='2' xvfb-run yarn with-wallet:open-positions:other",
		"nightly:with-wallet:rays": "WORKERS=2 RETRIES='2' xvfb-run yarn with-wallet:rays",
		"nightly:with-wallet:token-swap-rate": "WORKERS=2 RETRIES='2' xvfb-run yarn with-wallet:token-swap-rate",
		"nightly:with-wallet:rays-and-token-swap-rate": "WORKERS=2 RETRIES='2' xvfb-run yarn with-wallet:rays-and-token-swap-rate",
		"//-4a": "---------------------------------------------------------------",
		"//-4b": "---------- PORTFOLIO (Staging vs Production) TESTS ------------",
		"//-4c": "---------------------------------------------------------------",
		"portfolio:staging-vs-production": "WORKERS='3' FULLY_PARALLEL='true' RETRIES='2' yarn no-wallet:portfolio",
		"//-5a": "---------------------------------------------------------------",
		"//-5b": "---------- SWAP TESTS ------------",
		"//-5c": "---------------------------------------------------------------",
		"with-wallet:swap": "REPORT_FOLDER=with-wallet-swap npx playwright test --project=with-wallet-swap",
		"with-wallet:swap:aavev3": "REPORT_FOLDER=with-wallet-swap-aavev3 npx playwright test --project=with-wallet-swap-aavev3",
		"with-wallet:swap:maker": "REPORT_FOLDER=with-wallet-swap-maker npx playwright test --project=with-wallet-swap-maker",
		"with-wallet:swap:morphoblue": "REPORT_FOLDER=with-wallet-swap-morphoblue npx playwright test --project=with-wallet-swap-morphoblue",
		"with-wallet:swap:spark": "REPORT_FOLDER=with-wallet-swap-spark npx playwright test --project=with-wallet-swap-spark",
		"ci:with-wallet:swap": "WORKERS=2 RETRIES='2' xvfb-run yarn with-wallet:swap",
		"ci:with-wallet:swap:aavev3": "WORKERS=2 RETRIES='2' xvfb-run yarn with-wallet:swap:aavev3",
		"ci:with-wallet:swap:maker": "WORKERS=2 RETRIES='2' xvfb-run yarn with-wallet:swap:maker",
		"ci:with-wallet:swap:morphoblue": "WORKERS=2 RETRIES='2' xvfb-run yarn with-wallet:swap:morphoblue",
		"ci:with-wallet:swap:spark": "WORKERS=2 RETRIES='2' xvfb-run yarn with-wallet:swap:spark",
		"//-9a": "---------------------------------------------------------------",
		"//-9b": "---------------------- REPORTS --------------------------------",
		"//-9c": "---------------------------------------------------------------",
		"test:report:no-wallet": "npx playwright show-report playwright-reports/no-wallet",
		"test:report:no-wallet-portfolio": "npx playwright show-report playwright-reports/no-wallet-portfolio",
		"test:report:with-wallet:aave:ethereum": "npx playwright show-report playwright-reports/with-wallet-aave-ethereum",
		"test:report:with-wallet:aave:other": "npx playwright show-report playwright-reports/with-wallet-aave-other",
		"test:report:with-wallet:aave:arbitrum": "npx playwright show-report playwright-reports/with-wallet-aave-arbitrum",
		"test:report:with-wallet:aave:base": "npx playwright show-report playwright-reports/with-wallet-aave-base",
		"test:report:with-wallet:aave:optimism": "npx playwright show-report playwright-reports/with-wallet-aave-optimism",
		"test:report:with-wallet:aave:arbitrum-and-optimism": "npx playwright show-report playwright-reports/with-wallet-aave-arbitrum-and-optimism",
		"test:report:with-wallet:ajna-and-morphoblue": "npx playwright show-report playwright-reports/with-wallet-ajna-and-morphoblue",
		"test:report:with-wallet:ajna": "npx playwright show-report playwright-reports/with-wallet-ajna",
		"test:report:with-wallet:ajna:ethereum": "npx playwright show-report playwright-reports/with-wallet-ajna-ethereum",
		"test:report:with-wallet:ajna:arbitrum": "npx playwright show-report playwright-reports/with-wallet-ajna-arbitrum",
		"test:report:with-wallet:ajna:base": "npx playwright show-report playwright-reports/with-wallet-ajna-base",
		"test:report:with-wallet:ajna:optimism": "npx playwright show-report playwright-reports/with-wallet-ajna-optimism",
		"test:report:with-wallet:morphoblue:ethereum": "npx playwright show-report playwright-reports/with-wallet-morphoblue-ethereum",
		"test:report:with-wallet:maker-and-spark": "npx playwright show-report playwright-reports/with-wallet-maker-and-spark",
		"test:report:with-wallet:spark:ethereum": "npx playwright show-report playwright-reports/with-wallet-spark-ethereum",
		"test:report:with-wallet:maker:ethereum": "npx playwright show-report playwright-reports/with-wallet-maker-ethereum",
		"test:report:with-wallet:swap": "npx playwright show-report playwright-reports/with-wallet-swap",
		"test:report:with-wallet:swap:aavev3": "npx playwright show-report playwright-reports/with-wallet-swap-aavev3",
		"test:report:with-wallet:swap:maker": "npx playwright show-report playwright-reports/with-wallet-swap-maker",
		"test:report:with-wallet:swap:morphoblue": "npx playwright show-report playwright-reports/with-wallet-swap-morphoblue",
		"test:report:with-wallet:swap:spark": "npx playwright show-report playwright-reports/with-wallet-swap-spark",
		"test:report:with-wallet:open-positions": "npx playwright show-report playwright-reports/with-wallet-open-positions",
		"//-10a": "---------------------------------------------------------------",
		"//-10b": "---------------------- MANUAL TESTING UTILS --------------------------------",
		"//-10c": "---------------------------------------------------------------",
		"create-fork": "tsx utilsManualTesting/createFork.ts",
		"create-fork-github": "tsx utilsManualTesting/createForkGithub.ts",
		"create-fork-with-eth": "tsx utilsManualTesting/createForkWithEth.ts",
		"add-balance": "tsx utilsManualTesting/addBalanceToWallet.ts"
	}
}
